{
  "version": 3,
  "file": "ngx-gallery-lightbox.umd.js",
  "sources": [
    "ng://@ngx-gallery/lightbox/out/lightbox.module.ts",
    "ng://@ngx-gallery/lightbox/out/lightbox.service.ts",
    "ng://@ngx-gallery/lightbox/out/lightbox.default.ts",
    "ng://@ngx-gallery/lightbox/out/lightbox.token.ts",
    "ng://@ngx-gallery/lightbox/out/lightbox.component.ts"
  ],
  "sourcesContent": [
    "import { InjectionToken, NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Overlay, OverlayModule } from '@angular/cdk/overlay';\r\nimport { Gallery, GalleryModule } from '@ngx-gallery/core';\r\n\r\nimport { LightboxConfig } from './lightbox.model';\r\nimport { LIGHTBOX_CONFIG } from './lightbox.token';\r\nimport { Lightbox } from './lightbox.service';\r\nimport { LightboxComponent } from './lightbox.component';\r\n\r\nexport function lightboxFactory(config: LightboxConfig, gallery: Gallery, overlay: Overlay) {\r\n  return new Lightbox(config, gallery, overlay);\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    OverlayModule,\r\n    GalleryModule\r\n  ],\r\n  declarations: [\r\n    LightboxComponent\r\n  ],\r\n  entryComponents: [\r\n    LightboxComponent\r\n  ]\r\n})\r\nexport class LightboxModule {\r\n  static forRoot(config?: LightboxConfig) {\r\n\r\n    return {\r\n      ngModule: LightboxModule,\r\n      providers: [\r\n        {\r\n          provide: LIGHTBOX_CONFIG,\r\n          useValue: config\r\n        },\r\n        {\r\n          provide: Lightbox,\r\n          useFactory: lightboxFactory,\r\n          deps: [LIGHTBOX_CONFIG, Gallery, Overlay]\r\n        }\r\n      ]\r\n    };\r\n  }\r\n}\r\n",
    "import { ComponentRef, Inject, Injectable } from '@angular/core';\r\nimport { Gallery } from '@ngx-gallery/core';\r\nimport { LIGHTBOX_CONFIG } from './lightbox.token';\r\nimport { LightboxConfig } from './lightbox.model';\r\nimport { defaultConfig } from './lightbox.default';\r\nimport { Overlay } from '@angular/cdk/overlay';\r\nimport { OverlayRef } from '@angular/cdk/overlay';\r\nimport { OverlayConfig } from '@angular/cdk/overlay';\r\nimport { ComponentPortal } from '@angular/cdk/portal';\r\nimport { LEFT_ARROW } from '@angular/cdk/keycodes';\r\nimport { RIGHT_ARROW } from '@angular/cdk/keycodes';\r\nimport { ESCAPE } from '@angular/cdk/keycodes';\r\nimport { LightboxComponent } from './lightbox.component';\r\n\r\n@Injectable()\r\nexport class Lightbox {\r\n\r\n  /** Gallery overlay ref */\r\n  private _overlayRef: OverlayRef;\r\n\r\n  /** Global config */\r\n  private config: LightboxConfig;\r\n\r\n  constructor(@Inject(LIGHTBOX_CONFIG) config: LightboxConfig, private _gallery: Gallery, private _overlay: Overlay) {\r\n    this.config = {...defaultConfig, ...config};\r\n  }\r\n\r\n  /**\r\n   * Set Lightbox Config\r\n   * @param config - LightboxConfig\r\n   */\r\n  setConfig(config: LightboxConfig) {\r\n    this.config = {...this.config, ...config};\r\n  }\r\n\r\n  /**\r\n   * Open Lightbox Overlay\r\n   * @param i - Current Index\r\n   * @param id - Gallery ID\r\n   * @param config - Lightbox Config\r\n   */\r\n  open(i = 0, id = 'lightbox', config?: LightboxConfig) {\r\n\r\n    const _config = config ? { ...this.config, ...config } : this.config;\r\n\r\n    const overlayConfig: OverlayConfig = {\r\n      backdropClass: _config.backdropClass,\r\n      panelClass: _config.panelClass,\r\n      hasBackdrop: _config.hasBackdrop,\r\n      positionStrategy: this._overlay.position().global().centerHorizontally().centerVertically(),\r\n      scrollStrategy: this._overlay.scrollStrategies.block()\r\n    };\r\n\r\n    const galleryRef = this._gallery.ref(id);\r\n    galleryRef.set(i);\r\n\r\n    this._overlayRef = this._overlay.create(overlayConfig);\r\n\r\n    /** Attach gallery to the overlay */\r\n    const galleryPortal = new ComponentPortal(LightboxComponent);\r\n    const compRef: ComponentRef<LightboxComponent> = this._overlayRef.attach(galleryPortal);\r\n\r\n    compRef.instance.id = id;\r\n    compRef.instance.close = () => this.close();\r\n\r\n    if (_config.hasBackdrop) {\r\n      this._overlayRef.backdropClick().subscribe(() => this.close());\r\n    }\r\n\r\n    if (_config.keyboardShortcuts) {\r\n      this._overlayRef.keydownEvents().subscribe((event) => {\r\n        switch (event.keyCode) {\r\n          case LEFT_ARROW:\r\n            galleryRef.prev(id);\r\n            break;\r\n          case RIGHT_ARROW:\r\n            galleryRef.next(id);\r\n            break;\r\n          case ESCAPE:\r\n            this.close();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Close Lightbox Overlay\r\n   */\r\n  close() {\r\n    if (this._overlayRef.hasAttached()) {\r\n      this._overlayRef.dispose();\r\n    }\r\n  }\r\n}\r\n",
    "import { LightboxConfig } from './lightbox.model';\r\n\r\nexport const defaultConfig: LightboxConfig = {\r\n  backdropClass: 'g-backdrop',\r\n  panelClass: 'g-overlay',\r\n  hasBackdrop: true,\r\n  keyboardShortcuts: true\r\n};\r\n",
    "import { InjectionToken } from '@angular/core';\r\nimport { LightboxConfig } from './lightbox.model';\r\n\r\nexport const LIGHTBOX_CONFIG = new InjectionToken<LightboxConfig>('lightboxConfig');\r\n",
    "import { Component, ChangeDetectionStrategy, OnDestroy } from '@angular/core';\r\nimport { animate, state, style, transition, trigger } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'lightbox',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  preserveWhitespaces: false,\r\n  animations: [\r\n    trigger('slideGalleryIn', [\r\n      state('void', style({transform: 'translateY(25%) scale(0.9)', opacity: 0})),\r\n      state('enter', style({transform: 'translateY(0%) scale(1)', opacity: 1})),\r\n      state('exit', style({transform: 'translateY(25%)', opacity: 0})),\r\n      transition('* => *', animate('400ms cubic-bezier(0.25, 0.8, 0.25, 1)')),\r\n    ])\r\n  ],\r\n  template: `\r\n    <gallery [@slideGalleryIn] [id]=\"id\" [destroyRef]=\"false\">\r\n      <div class=\"g-btn-close\" (tapClick)=\"close()\"></div>\r\n    </gallery>\r\n  `\r\n})\r\nexport class LightboxComponent implements OnDestroy {\r\n\r\n  id: string;\r\n  close: any;\r\n\r\n  ngOnDestroy() {\r\n    this.close();\r\n  }\r\n}\r\n"
  ],
  "names": [
    "GalleryModule",
    "OverlayModule",
    "CommonModule",
    "NgModule",
    "Gallery",
    "Overlay",
    "overlay",
    "Inject",
    "Injectable",
    "ESCAPE",
    "RIGHT_ARROW",
    "LEFT_ARROW",
    "ComponentPortal",
    "InjectionToken",
    "transition",
    "animate",
    "state",
    "style",
    "trigger",
    "ChangeDetectionStrategy",
    "Component"
  ],
  "mappings": "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"
}
